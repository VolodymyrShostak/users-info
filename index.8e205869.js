$((function(){$("#phoneInput").mask("+38 (000) 000-00-00",{placeholder:"+38 (___) ___-__-__"});const e=[];$("#createUserModal").on("hide.bs.modal",(function(){$("#form_createUserModal").removeClass("was-validated")})),$("#form_createUserModal").submit((function(t){if(t.preventDefault(),t.stopPropagation(),$(this).addClass("was-validated"),!this.checkValidity())return;const n=new FormData(this),a={};for(let e of n.entries())a[e[0]]=e[1];const d=a.phone;/^\+38\(\d{3}\)\d{3}-\d{2}-\d{2}$/.test(d)?($("#phoneInput").removeClass("is-invalid"),$("#phoneInput").addClass("is-valid")):($("#phoneInput").removeClass("is-valid"),$("#phoneInput").addClass("is-invalid"));const l={...a,id:Date.now()};e.push(l);const s=$("#avatarInput").get(0).files[0];if(s){const e=new FileReader;e.readAsDataURL(s),e.onload=function(){const t=e.result;$("#objectImage").attr("src",t),$("tbody").prepend(`<tr>\n                <td id="image-container" class="text-center align-middle" >\n                <img class="rounded-5" src="${t}" width="40" height="40"/></td>\n                <td class="text-center align-middle">${a.name}</td>\n                 <td class="text-center align-middle">${a.email}</td>\n                <td class="text-center align-middle">${a.phone}</td>\n                 <td class="text-center align-middle"><button\n              type="button"\n              class="btn btn-outline-info"\n              data-bs-toggle="modal"\n              data-bs-target="#detailsModal"\n              data-id="${l.id}"\n            >\n              Details\n            </button></td>\n              </tr>`)}}else $("#objectImage").attr("src","../assets/avatar.png"),$("tbody").prepend(`<tr>\n              <td id="image-container" class="text-center align-middle"><img src="../assets/avatar.png" width="40"/></td>\n            <td class="text-center align-middle">${a.name}</td>\n                 <td class="text-center align-middle">${a.email}</td>\n                <td class="text-center align-middle">${a.phone}</td>\n            \n              <td class="text-center align-middle"><button\n              type="button"\n              class="btn btn-outline-info"\n              data-bs-toggle="modal"\n              data-bs-target="#detailsModal"\n              data-id="${l.id}"\n            >\n              Details\n            </button></td>\n            </tr>`);$("#objectName").text(a.name),$("#objectEmail").text(a.email),$("#objectPhone").text(a.phone),$("#phoneInput").removeClass("is-invalid"),$("#objectDetails").removeClass("d-none"),this.reset(),$("#createUserModal").modal("hide")}));const t=$("#detailsModal");t.length>0&&t.on("show.bs.modal",(function(t){const n=$(t.relatedTarget).data("id"),a=e.find((e=>e.id===n));$("#dispplayDetailsModal").prepend(` <ul id="modal__user-info" >\n                        <div class="d-flex flex-row" >\n                        <p>Ім'я:&#160;&#160;&#160;</p>\n                            <p class="font-weight-bold">${null==a?void 0:a.name}</p>\n                        </div>\n                             \n                        <div class="d-flex flex-row" >\n                        <p>Стать:&#160;&#160;&#160;</p>\n                            <p class="font-weight-bold">${null==a?void 0:a.gender}</p>\n                        </div>\n                        <div class="d-flex flex-row" >\n                        <p>Місто:&#160;&#160;&#160;</p>\n                            <p class="font-weight-bold">${null==a?void 0:a.city}</p>\n                        </div>\n                        <div>\n                        <p>Електронна адреса:&#160;&#160;&#160;</p>\n                            <p class="font-weight-bold">${null==a?void 0:a.email}</p>\n                        </div>\n                       <div class="d-flex flex-row" >\n                        <p>Телефон:&#160;&#160;&#160;</p>\n                            <p class="font-weight-bold">${null==a?void 0:a.phone}</p>\n                        </div>\n                    </ul>`)})),$(".modal.fade").on("hidden.bs.modal",(function(){$("#modal__user-info").remove()})),$("#generateUserBtn").on("click",(function(){$("#generateUserModal").modal("show")})),$("#generateUserModal").on("hidden.bs.modal",(function(){$("#form_generateUserModal").trigger("reset")})),$("#generateBtn").on("click",(function(){const t=`https://randomuser.me/api/?gender=${$("#genderSelect").val()}`,n=$('<div class="spinner-border text-primary" role="status"><span class="visually-hidden">Loading...</span></div>');$("#queryModal").prepend(n),$.ajax({url:t,dataType:"json",success:function(t){var a;const d=t.results[0],l={name:d.name.first+" "+d.name.last,city:d.location.city,phone:d.phone,email:d.email,gender:d.gender,avatar:null===(a=d.picture)||void 0===a?void 0:a.large,id:Date.now()};$("#objectImage").attr("src",l.avatar),$("#objectName").text(l.name),$("#objectEmail").text(l.email),$("#objectPhone").text(l.phone),$("#objectDetails").removeClass("d-none"),e.push(l),$("#generateUserModal").modal("hide"),$("tbody").prepend(`<tr>\n                <td id="image-container" class="text-center align-middle" >\n                <img class="rounded-5" src="${null==l?void 0:l.avatar}" width="40" height="40"/></td>\n                <td class="text-center align-middle">${null==l?void 0:l.name}</td>\n                 <td class="text-center align-middle">${null==l?void 0:l.email}</td>\n                <td class="text-center align-middle">${null==l?void 0:l.phone}</td>\n                <td class="text-center align-middle">\n                <button type="button" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#detailsModal" data-id="${null==l?void 0:l.id}">\n                  Details\n                </button></td>\n              </tr>`),n.remove();const s=$('<div class="alert alert-success alert-dismissible fade show " role="alert">Користувач успішно згенерований!</div>');$("#table").prepend(s),setTimeout((function(){s.alert("close")}),3e3)},error:function(){n.remove();const e=$('<div class="alert alert-danger alert-dismissible fade show" role="alert">Помилка генерації користувача!</div>');$(".modal-body").prepend(e),setTimeout((function(){e.alert("close")}),2e3)}})}))}));
//# sourceMappingURL=index.8e205869.js.map
